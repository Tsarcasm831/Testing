# Changelog

## 2025-08-03

1444 Eliminated a start-up crash triggered when the networking class was absent by switching the WebsimSocket gate check from a bare global reference to a safe globalThis lookup that gracefully falls back to a self-contained offline room shim whenever the proprietary client script is not injected into the page. This adjustment prevents the ReferenceError that previously halted Game.init, keeps the initialization sequence asynchronous, and preserves compatibility with future open socket implementations while enabling contributors to run the world entirely in single player mode without additional services or polyfills.
1239 Reworked network initialization to gracefully handle the absence of the proprietary WebsimSocket by introducing a minimal offline room shim that reproduces the subset of methods used by the multiplayer and UI systems, ensuring that send, presence and collection calls become harmless no-ops. Added optional checks around every invocation of window.websim so that administrative tools, video settings, AI driven character creation and structure generation quietly disable themselves rather than throwing reference errors, letting the world boot in complete single player mode while still cooperating with a real socket server if one is later wired in.
1218 Removed the erroneous 'public_html/' segment from every remote asset URL after investigating widespread CORS failures that manifested as network errors and aborted fetches across animation and texture downloads. Browsers were requesting paths like https://www.lordtsarcasm.com/public_html/bucket/... which produced 404 responses with no Access-Control-Allow-Origin header, causing the loader to treat the missing files as cross origin violations and halting model replacement. The URLs now point directly at https://www.lordtsarcasm.com/bucket/, restoring access to GLB animations, audio tracks, and documents without tripping same origin policy protections and laying the groundwork for reliable asset streaming and caching improvements going forward.
1206 Updated the core downloading pipeline and asset replacement manager to understand the new shape of assets.json, which now provides typed entries instead of plain name/url pairs. The downloader now preserves each asset's declared type and original URL alongside the binary blob, allowing consumers to make informed decisions about how to process images, models, scripts or audio after download. The asset replacement manager was refactored to extract blobs from the enriched structure when preparing textures and GLB models, ensuring player and NPC model swaps remain compatible and paving the way for future asset categories.
1156 Realigned every remote asset reference to match the canonical storage list so that resources load from a single reliable domain. Previously the project pulled dozens of animated models and audio tracks from transient file.garden URLs that regularly expired or were throttled, causing broken links and runtime errors wherever an avatar or soundtrack was expected to stream. By scanning list.json for the authoritative paths and rewriting each entry in assets.json to point at https://www.lordtsarcasm.com/public_html/bucket/, the asset pipeline now leverages persistent hosting with consistent directory structure. This consolidation simplifies maintenance scripts, improves caching behavior for clients, and provides a stable foundation for future contributions that depend on dependable remote resources without fearing sudden provider shutdowns or content relocation.
1142 Introduced a dedicated video settings interface to centralize control of all screen-related features. Pressing the "v" key now opens a modal that pauses player input and presents administrative tools for updating the amphitheater's video source, removing the previously scattered controls from the general options panel. The component ships with its own stylesheet for consistent styling and is initialized through the UI manager alongside other HUD elements. By isolating video configuration in one place and gating the URL field to the existing admin account, maintainers no longer need to hunt through unrelated menus to manage playback, paving the way for future additions like volume or subtitle toggles without bloating the main options menu. This restructuring improves discoverability for routine show setups while reducing clutter for regular players.

## Guidelines for future updates
- List changes in reverse chronological order (newest first).
- Use a heading for each version or date, followed by brief bullet points.
- Summaries should be short, highlighting major additions or fixes.
